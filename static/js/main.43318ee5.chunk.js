(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{25:function(t,e,c){},32:function(t,e,c){"use strict";c.r(e);var n=c(8),o=c.n(n),i=c(14),a=c.n(i),r=(c(25),c(15)),s=c(16),d=c(20),u=c(19),l=c(3),p={image:{height:110,width:110,borderRadius:4,background:"#ccc"}},h=function(t){var e=t.product,c=e.price,n=e.title,o=e.qty,i=e.img,a=t.product,r=t.onIncreaseQuantity,s=t.onDecreaseQuantity,d=t.onDeleteProduct;return Object(l.jsxs)("div",{className:"cart-item",children:[Object(l.jsx)("div",{className:"left-block",children:Object(l.jsx)("img",{src:i,style:p.image,alt:""})}),Object(l.jsxs)("div",{className:"right-block",children:[Object(l.jsx)("div",{style:{fontSize:25},children:n}),Object(l.jsxs)("div",{style:{color:"#777"},children:["Rs. ",c]}),Object(l.jsxs)("div",{style:{color:"#777"},children:["Qty: ",o]}),Object(l.jsxs)("div",{className:"cart-item-action",children:[Object(l.jsx)("img",{alt:"increase",className:"action-icon",src:"https://image.flaticon.com/icons/png/512/992/992651.png",onClick:function(){return r(a)}}),Object(l.jsx)("img",{alt:"decrease",className:"action-icon",src:"https://image.flaticon.com/icons/png/512/992/992683.png",onClick:function(){return s(a)}}),Object(l.jsx)("img",{alt:"delete",className:"action-icon",src:"https://image.flaticon.com/icons/png/512/1214/1214428.png",onClick:function(){return d(a.id)}})]})]})]})},g=function(t){var e=t.products;return Object(l.jsx)("div",{className:"cart",children:e.map((function(e){return Object(l.jsx)(h,{product:e,onIncreaseQuantity:t.onIncreaseQuantity,onDecreaseQuantity:t.onDecreaseQuantity,onDeleteProduct:t.onDeleteProduct},e.id)}))})},j={cardIcon:{height:32,marginRight:20},nav:{height:70,background:"#4267b2",display:"flex",justifyContent:"flex-end",alignItems:"center"},cartIconContainer:{position:"relative"},cartCount:{background:"yellow",borderRadius:"50%",padding:"4px 8px",position:"absolute",right:0,top:-9}},b=function(t){return Object(l.jsx)("div",{style:j.nav,children:Object(l.jsxs)("div",{style:j.cartIconContainer,children:[Object(l.jsx)("img",{style:j.cardIcon,src:"https://image.flaticon.com/icons/png/512/1170/1170678.png",alt:"cart-icon"}),Object(l.jsx)("span",{style:j.cartCount,children:t.count})]})})},f=c(17),y=function(t){Object(d.a)(c,t);var e=Object(u.a)(c);function c(){var t;return Object(r.a)(this,c),(t=e.call(this)).handleIncreaseQuantity=function(e){var c=t.state.products,n=c.indexOf(e);t.db.collection("products").doc(c[n].id).update({qty:c[n].qty+1}).then((function(){console.log("document updated!")})).catch((function(t){console.log("Erro occure in increasing the qty :: ",t)}))},t.handleDecreaseQuantity=function(e){if(0!==e.qty){var c=t.state.products,n=c.indexOf(e);t.db.collection("products").doc(c[n].id).update({qty:c[n].qty-1}).then((function(){console.log("decrease in quantity is updated!")})).catch((function(t){console.log("error in decreasing the quantiy :: ",t)}))}},t.handleDeleteProduct=function(e){t.db.collection("products").doc(e).delete().then((function(){console.log("delete product sucessfully!")})).catch((function(t){console.log("error occure in deleting the product :: ",t)}))},t.getCartCount=function(){var e=t.state.products,c=0;return e.forEach((function(t){c+=t.qty})),c},t.getCartTotal=function(){var e=t.state.products,c=0;return e.map((function(t){return t.qty>0&&(c+=t.qty*t.price),""})),c},t.addProduct=function(){t.db.collection("products").add({img:"",price:900,qty:3,title:"Washing Machine"}).then((function(t){console.log("Product has been added",t)})).catch((function(t){console.log("Error :: ",t)}))},t.state={products:[],loading:!0},t.db=f.a.firestore(),t}return Object(s.a)(c,[{key:"componentDidMount",value:function(){var t=this;this.db.collection("products").orderBy("price","desc").onSnapshot((function(e){e.docs.map((function(t){return""}));var c=e.docs.map((function(t){var e=t.data();return e.id=t.id,e}));t.setState({products:c,loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.products,c=t.loading;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{count:this.getCartCount()}),Object(l.jsx)(g,{products:e,onIncreaseQuantity:this.handleIncreaseQuantity,onDecreaseQuantity:this.handleDecreaseQuantity,onDeleteProduct:this.handleDeleteProduct}),c&&Object(l.jsx)("h1",{children:"Loading Products..."}),Object(l.jsx)("div",{style:{padding:10,fontSize:20},children:Object(l.jsxs)("h4",{style:{margin:0},children:["Total : ",this.getCartTotal()]})})]})}}]),c}(o.a.Component),m=c(18);c(31);m.a.initializeApp({apiKey:"AIzaSyDbJbVZuUSHZK_2--6MTXRW4axRiAR8joA",authDomain:"cart-75c93.firebaseapp.com",projectId:"cart-75c93",storageBucket:"cart-75c93.appspot.com",messagingSenderId:"163251411836",appId:"1:163251411836:web:c3d08e455f08e3988662f9"}),a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.43318ee5.chunk.js.map