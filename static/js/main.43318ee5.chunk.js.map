{"version":3,"sources":["Components/CartItem.js","Components/Cart.js","Components/Navbar.js","Components/App.js","index.js"],"names":["style","image","height","width","borderRadius","background","CartItem","props","product","price","title","qty","img","onIncreaseQuantity","onDecreaseQuantity","onDeleteProduct","className","src","alt","fontSize","color","onClick","id","Cart","products","map","styles","cardIcon","marginRight","nav","display","justifyContent","alignItems","cartIconContainer","position","cartCount","padding","right","top","Navbar","count","App","handleIncreaseQuantity","state","index","indexOf","db","collection","doc","update","then","console","log","catch","err","handleDecreaseQuantity","handleDeleteProduct","delete","getCartCount","forEach","getCartTotal","cartTotal","addProduct","add","docRef","loading","firebase","firestore","this","orderBy","onSnapshot","snapshot","docs","data","setState","margin","React","Component","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.43318ee5.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst CartItem = (props) => {\r\n  // console.log(\"this.props\", this.props);\r\n  const { price, title, qty, img } = props.product;\r\n  const { product, onIncreaseQuantity, onDecreaseQuantity, onDeleteProduct } = props;\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <div className=\"left-block\">\r\n        <img src={img} style={style.image} alt=\"\"></img>\r\n      </div>\r\n      <div className=\"right-block\">\r\n        <div style={{ fontSize: 25 }}>{title}</div>\r\n        <div style={{ color: \"#777\" }}>Rs. {price}</div>\r\n        <div style={{ color: \"#777\" }}>Qty: {qty}</div>\r\n        <div className=\"cart-item-action\">\r\n          {/* Buttons */}\r\n          <img\r\n            alt=\"increase\"\r\n            className=\"action-icon\"\r\n            src=\"https://image.flaticon.com/icons/png/512/992/992651.png\"\r\n            onClick={() => onIncreaseQuantity(product)}\r\n          ></img>\r\n          <img\r\n            alt=\"decrease\"\r\n            className=\"action-icon\"\r\n            src=\"https://image.flaticon.com/icons/png/512/992/992683.png\"\r\n            onClick={() => onDecreaseQuantity(product)}\r\n          ></img>\r\n          <img\r\n            alt=\"delete\"\r\n            className=\"action-icon\"\r\n            src=\"https://image.flaticon.com/icons/png/512/1214/1214428.png\"\r\n            onClick={() => onDeleteProduct(product.id)}\r\n          ></img>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst style = {\r\n  image: {\r\n    height: 110,\r\n    width: 110,\r\n    borderRadius: 4,\r\n    background: \"#ccc\",\r\n  },\r\n};\r\n\r\nexport default CartItem;\r\n","import React from \"react\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = (props) => {\r\n  const { products } = props;\r\n  return (\r\n    <div className=\"cart\">\r\n      {/* <CartItem qty={1} price={999} title={\"watch\"} img={\"\"} />\r\n       */}\r\n      {products.map((product) => {\r\n        return (\r\n          <CartItem\r\n            product={product}\r\n            key={product.id}\r\n            onIncreaseQuantity={props.onIncreaseQuantity}\r\n            onDecreaseQuantity={props.onDecreaseQuantity}\r\n            onDeleteProduct={props.onDeleteProduct}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nconst Navbar = (props) => {\r\n  return (\r\n    <div style={styles.nav}>\r\n      <div style={styles.cartIconContainer}>\r\n        <img\r\n          style={styles.cardIcon}\r\n          src=\"https://image.flaticon.com/icons/png/512/1170/1170678.png\"\r\n          alt=\"cart-icon\"\r\n        ></img>\r\n        <span style={styles.cartCount}>{props.count}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  cardIcon: {\r\n    height: 32,\r\n    marginRight: 20,\r\n  },\r\n  nav: {\r\n    height: 70,\r\n    background: \"#4267b2\",\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    alignItems: \"center\",\r\n  },\r\n  cartIconContainer: {\r\n    position: \"relative\",\r\n  },\r\n  cartCount: {\r\n    background: \"yellow\",\r\n    borderRadius: \"50%\",\r\n    padding: \"4px 8px\",\r\n    position: \"absolute\",\r\n    right: 0,\r\n    top: -9,\r\n  },\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\nimport Cart from \"./Cart\";\nimport Navbar from \"./Navbar\";\nimport firebase from \"firebase/app\";\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      loading: true,\n    };\n    this.db = firebase.firestore();\n  }\n  componentDidMount() {\n    // firebase\n    //   .firestore()\n    //   .collection(\"products\")\n    //   .get()\n    //   .then((snapshot) => {\n    //     console.log(snapshot);\n    //     snapshot.docs.map((doc) => {\n    //       console.log(doc.data());\n    //     });\n    //     const products = snapshot.docs.map((doc) => {\n    //       const data = doc.data();\n    //       data[\"id\"] = doc.id;\n    //       console.log(data);\n    //       return data;\n    //     });\n    //     this.setState({\n    //       products,\n    //       loading:false\n    //       //it means products = products;\n    //     });\n    //   });\n    this.db\n      .collection(\"products\")\n      // .where(\"price\", \"==\", 99)        //query some data\n      // .where(\"title\", \"==\", \"mouse\")\n      .orderBy(\"price\", \"desc\") // sort the data about the give para\n      .onSnapshot((snapshot) => {\n        snapshot.docs.map((doc) => {\n          // console.log(doc.data());\n          return \"\";\n        });\n        const products = snapshot.docs.map((doc) => {\n          const data = doc.data();\n          data[\"id\"] = doc.id;\n          // console.log(data);\n          return data;\n        });\n        this.setState({\n          products,\n          //it means products = products;\n          loading: false,\n        });\n      });\n  }\n  handleIncreaseQuantity = (product) => {\n    // console.log(\"increase th quantity\", product);\n    const { products } = this.state;\n    const index = products.indexOf(product);\n    // products[index].qty += 1;\n\n    // this.setState({\n    //   products: products,\n    // });\n\n    const docRef = this.db.collection(\"products\").doc(products[index].id);\n    docRef\n      .update({\n        qty: products[index].qty + 1,\n      })\n      .then(() => {\n        console.log(\"document updated!\");\n      })\n      .catch((err) => {\n        console.log(\"Erro occure in increasing the qty :: \", err);\n      });\n  };\n  handleDecreaseQuantity = (product) => {\n    if (product.qty === 0) return;\n    const { products } = this.state;\n    const index = products.indexOf(product);\n    // products[index].qty -= 1;\n\n    // this.setState({\n    //   products,\n    // });\n    const docRef = this.db.collection(\"products\").doc(products[index].id);\n    docRef\n      .update({\n        qty: products[index].qty - 1,\n      })\n      .then(() => {\n        console.log(\"decrease in quantity is updated!\");\n      })\n      .catch((err) => {\n        console.log(\"error in decreasing the quantiy :: \", err);\n      });\n  };\n  handleDeleteProduct = (id) => {\n    // const { products } = this.state;\n\n    // const items = products.filter((item) => item.id !== id);\n    // console.log(items);\n    // this.setState({\n    //   products: items,\n    // });\n    const docRef = this.db.collection(\"products\").doc(id);\n    docRef\n      .delete()\n      .then(() => {\n        console.log(\"delete product sucessfully!\");\n      })\n      .catch((err) => {\n        console.log(\"error occure in deleting the product :: \", err);\n      });\n  };\n  getCartCount = () => {\n    const { products } = this.state;\n\n    let count = 0;\n    products.forEach((product) => {\n      count += product.qty;\n    });\n\n    return count;\n  };\n  getCartTotal = () => {\n    const { products } = this.state;\n    let cartTotal = 0;\n    products.map((product) => {\n      if (product.qty > 0) {\n        cartTotal = cartTotal + product.qty * product.price;\n      }\n      return \"\";\n    });\n    return cartTotal;\n  };\n  addProduct = () => {\n    this.db\n      .collection(\"products\")\n      .add({\n        img: \"\",\n        price: 900,\n        qty: 3,\n        title: \"Washing Machine\",\n      })\n      .then((docRef) => {\n        console.log(\"Product has been added\", docRef);\n      })\n      .catch((err) => {\n        console.log(\"Error :: \", err);\n      });\n  };\n  render() {\n    const { products, loading } = this.state;\n    return (\n      <div className=\"App\">\n        <Navbar count={this.getCartCount()} />\n        {/* <button onClick={this.addProduct} style={{ padding: 20, fontSize: 20 }}>\n          Add a product\n        </button> */}\n        <Cart\n          products={products}\n          onIncreaseQuantity={this.handleIncreaseQuantity}\n          onDecreaseQuantity={this.handleDecreaseQuantity}\n          onDeleteProduct={this.handleDeleteProduct}\n        />\n        {loading && <h1>Loading Products...</h1>}\n        <div style={{ padding: 10, fontSize: 20 }}>\n          <h4 style={{ margin: 0 }}>Total : {this.getCartTotal()}</h4>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./css/index.css\";\nimport App from \"./Components/App\";\nimport firebase from \"firebase\";\nimport \"firebase/firestore\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDbJbVZuUSHZK_2--6MTXRW4axRiAR8joA\",\n  authDomain: \"cart-75c93.firebaseapp.com\",\n  projectId: \"cart-75c93\",\n  storageBucket: \"cart-75c93.appspot.com\",\n  messagingSenderId: \"163251411836\",\n  appId: \"1:163251411836:web:c3d08e455f08e3988662f9\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}